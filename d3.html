<!DOCTYPE html>
<html>
<head>
  <title>D3.js Curve Plotting</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

<svg width="800" height="600"></svg>

<script>
  const svg = d3.select("svg");
  const width = +svg.attr("width");
  const height = +svg.attr("height");
  const margin = {bottom: 50, top: 20, left: 50, right: 50};

  const maxX = 50;  // Adjust this value to change the x-axis scale

  const xScale = d3.scaleLinear()
    .domain([0, maxX])
    .range([margin.left, width - margin.right]);

  const yScale = d3.scaleLinear()
    .domain([0, Math.pow(maxX, 3) / 6])
    .range([height - margin.bottom, margin.top]);

  const lineOriginal = d3.line()
    .x(d => xScale(d.x))
    .y(d => yScale(d.yOriginal));

  const lineApproximate = d3.line()
    .x(d => xScale(d.x))
    .y(d => yScale(d.yApproximate));

  const data = d3.range(0, maxX + 1).map(function(d) {
    return {
      x: d,
      yOriginal: (d * (d - 1) * (d - 2)) / 6,
      yApproximate: Math.pow(d, 3) / 6
    };
  });

  svg.append("path")
    .datum(data)
    .attr("fill", "none")
    .attr("stroke", "blue")
    .attr("d", lineOriginal);

  svg.append("path")
    .datum(data)
    .attr("fill", "none")
    .attr("stroke", "red")
    .attr("d", lineApproximate);

  // Add x-axis
  const xAxis = d3.axisBottom(xScale)
    .tickValues([0, maxX/4, maxX/2, 3*maxX/4, maxX]);

  svg.append("g")
    .attr("transform", `translate(0,${height - margin.bottom})`)
    .call(xAxis);

  // Add y-axis
  const yAxis = d3.axisLeft(yScale);

  svg.append("g")
    .attr("transform", `translate(${margin.left}, 0)`)
    .call(yAxis);
</script>

</body>
</html>
